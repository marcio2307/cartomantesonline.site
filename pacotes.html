<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Pagar Consulta - Cartomantes Online</title>

<link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@700&family=Poppins:wght@400;600;700;800;900&display=swap" rel="stylesheet" />

<style>
:root{
  --gold-1:#fff0a6;
  --gold-2:#f6e27a;
  --gold-3:#c7a008;
  --gold-4:#b8860b;
  --black:#000000;

  --btn-h:56px;
  --btn-px:14px;
}

body{
  margin:0;
  min-height:100vh;
  background:
    radial-gradient(900px 420px at 15% 10%, rgba(199,160,8,0.20), rgba(0,0,0,0) 60%),
    radial-gradient(900px 420px at 85% 20%, rgba(199,160,8,0.16), rgba(0,0,0,0) 60%),
    radial-gradient(1200px 520px at 50% 120%, rgba(199,160,8,0.10), rgba(0,0,0,0) 65%),
    #000;
  font-family:'Poppins',sans-serif;
  color:#fff;
  padding:22px 16px 28px;
}

/* ‚ÄúCard‚Äù principal no mesmo estilo do site */
.container{
  max-width:460px;
  margin:18px auto;
  border-radius:18px;
  overflow:hidden;
  isolation:isolate;

  background:
    radial-gradient(560px 260px at 50% -10%, rgba(199,160,8,0.25), rgba(0,0,0,0) 60%),
    linear-gradient(180deg, rgba(18,18,18,0.86) 0%, rgba(5,5,5,0.98) 100%);

  border:1px solid rgba(199,160,8,0.55);
  box-shadow:
    0 18px 44px rgba(0,0,0,0.60),
    0 0 0 1px rgba(255,240,166,0.08) inset;
  position:relative;
  padding:18px 16px 18px;
  text-align:center;
}

.container::before{
  content:"";
  position:absolute;
  inset:-2px;
  background:
    radial-gradient(520px 220px at 50% 0%, rgba(246,226,122,0.22), rgba(0,0,0,0) 60%),
    radial-gradient(180px 120px at 18% 18%, rgba(255,240,166,0.10), rgba(0,0,0,0) 70%),
    radial-gradient(180px 120px at 82% 28%, rgba(255,240,166,0.08), rgba(0,0,0,0) 70%);
  opacity:.9;
  pointer-events:none;
  z-index:0;
}

.container::after{
  content:"";
  position:absolute;
  inset:0;
  background:
    linear-gradient(120deg,
      rgba(255,240,166,0.00) 0%,
      rgba(255,240,166,0.04) 28%,
      rgba(255,240,166,0.00) 55%,
      rgba(255,240,166,0.00) 100%);
  mix-blend-mode:screen;
  opacity:.55;
  pointer-events:none;
  z-index:1;
}

.inner{
  position:relative;
  z-index:2;
}

.consultor-img{
  width:170px;
  height:170px;
  object-fit:cover;
  border-radius:16px;
  border:1px solid rgba(199,160,8,0.35);
  box-shadow:
    0 12px 30px rgba(0,0,0,0.55),
    0 0 0 1px rgba(255,240,166,0.06) inset;
  filter:saturate(1.06) contrast(1.06);
  margin:10px auto 10px;
  display:block;
}

h1{
  margin:10px 0 6px;
  font-family:'Cinzel', serif;
  font-size:22px;
  font-weight:900;
  letter-spacing:0.2px;
  color:transparent;
  background-image:linear-gradient(180deg, var(--gold-2) 0%, var(--gold-3) 42%, var(--gold-1) 72%, var(--gold-4) 100%);
  -webkit-background-clip:text;
  background-clip:text;
  text-shadow:0 0 22px rgba(199,160,8,0.15);
}

.sub{
  margin:0 0 14px;
  font-size:14px;
  color:rgba(255,255,255,0.88);
  line-height:1.6;
}

/* Op√ß√µes iguais ao ‚Äúpeso‚Äù visual dos cards */
.option{
  background: rgba(255,255,255,0.06);
  border:1px solid rgba(199,160,8,0.55);
  border-radius:16px;
  padding:14px 14px;
  margin:10px 0;
  cursor:pointer;
  transition:filter .18s ease, transform .18s ease, background .18s ease, border-color .18s ease;
  box-shadow:
    0 14px 28px rgba(0,0,0,0.50),
    0 0 0 1px rgba(255,240,166,0.06) inset;
}

.option:hover{
  filter:brightness(1.06);
  transform:translateY(-1px);
  background: rgba(255,240,166,0.08);
  border-color:rgba(246,226,122,0.95);
}

.option.selected{
  background: rgba(199,160,8,0.18);
  border-color:rgba(246,226,122,0.95);
  box-shadow:
    0 14px 28px rgba(0,0,0,0.50),
    0 0 30px rgba(199,160,8,0.14),
    0 0 0 1px rgba(255,240,166,0.10) inset;
}

.option h2{
  margin:0 0 4px;
  font-size:16px;
  font-weight:900;
  letter-spacing:0.3px;
  color:#fff;
}

.option p{
  margin:0;
  font-size:13px;
  color:rgba(255,255,255,0.88);
}

/* Pre√ßo selecionado */
.price-display{
  margin:14px 0 12px;
  font-weight:900;
  font-size:14px;
  line-height:1.45;
  color:transparent;
  background-image:linear-gradient(180deg, var(--gold-2) 0%, var(--gold-3) 55%, var(--gold-4) 100%);
  -webkit-background-clip:text;
  background-clip:text;
  text-shadow:0 0 18px rgba(199,160,8,0.12);
}

/* Pix */
.pix-logo{
  width:150px;
  margin:10px auto 12px;
  display:block;
  filter: drop-shadow(0 0 10px rgba(13,223,185,0.35));
}

/* Bot√£o com peso parecido com os bot√µes do site */
.pix-btn{
  width:100%;
  height:var(--btn-h);
  display:flex;
  align-items:center;
  justify-content:center;
  text-align:center;
  padding:0 var(--btn-px);
  border-radius:16px;
  border:1px solid rgba(255,255,255,0.10);
  box-shadow:
    0 16px 30px rgba(0,0,0,0.55),
    0 0 0 1px rgba(255,240,166,0.06) inset;
  font-weight:900;
  font-size:13px;
  letter-spacing:0.7px;
  cursor:pointer;
  transition:filter .18s ease, opacity .18s ease, transform .18s ease;
  background:linear-gradient(180deg, #2ecc71 0%, #1f9b50 100%);
  color:#fff;
}

.pix-btn:hover{ filter:brightness(1.06); transform:translateY(-1px); }
.pix-btn:disabled{
  opacity:0.55;
  cursor:not-allowed;
  transform:none;
  filter:none;
  background:linear-gradient(180deg, rgba(46,204,113,0.55) 0%, rgba(31,155,80,0.55) 100%);
}

/* Mobile fino */
@media (max-width:420px){
  body{ padding:18px 12px 24px; }
  .consultor-img{ width:155px; height:155px; }
  :root{ --btn-h:64px; --btn-px:16px; }
}

/* ==========================================================
   ‚úÖ BLOQUEIO DE PROPAGANDAS INJETADAS (FabApp / similares)
========================================================== */
fabapp-banner-footer,
fabapp-banner-footer *{
  display:none !important;
  visibility:hidden !important;
  opacity:0 !important;
  height:0 !important;
  max-height:0 !important;
  min-height:0 !important;
  width:0 !important;
  max-width:0 !important;
  overflow:hidden !important;
  pointer-events:none !important;
}

#ads-container,
[id="ads-container"],
[id*="ads-container"],
[class*="ads-container"],
iframe[src*="fabapp-ads"],
video[src*="fabapp-ads"],
source[src*="fabapp-ads"]{
  display:none !important;
  visibility:hidden !important;
  opacity:0 !important;
  height:0 !important;
  max-height:0 !important;
  overflow:hidden !important;
  pointer-events:none !important;
}
</style>
</head>

<body>
  <div class="container" role="main" aria-label="Pagamento por PIX">
    <div class="inner">
      <img id="consultorImagem" class="consultor-img" src="" alt="Consultor">
      <h1 id="consultorNome">Consultor</h1>
      <p class="sub">Escolha quantos minutos deseja na sua consulta.</p>

      <div id="opcoes"></div>

      <div class="price-display" id="precoSelecionado">Selecione uma op√ß√£o</div>

      <img class="pix-logo" src="https://artpoin.com/wp-content/uploads/2023/09/artpoin-logo-pix.png" alt="PIX Logo">
      <button class="pix-btn" id="pixButton" disabled>PAGAR COM PIX</button>
    </div>
  </div>

<script>
/* ==========================================================
   ‚úÖ REMO√á√ÉO FOR√áADA (se o host injetar de novo, apaga na hora)
========================================================== */
(function bloquearPropagandasInjetadas(){
  const SELECTORS = [
    'fabapp-banner-footer',
    'fabapp-banner-footer video',
    '#ads-container',
    '[id="ads-container"]',
    'iframe[src*="fabapp-ads"]',
    'video[src*="fabapp-ads"]',
    'source[src*="fabapp-ads"]',
    'script[src*="fabapp-ads"]'
  ];

  function remover() {
    for (const sel of SELECTORS) {
      document.querySelectorAll(sel).forEach(el => {
        try { el.remove(); } catch {}
      });
    }
  }

  remover();
  const obs = new MutationObserver(() => remover());
  obs.observe(document.documentElement, { childList:true, subtree:true });

  let tries = 0;
  const t = setInterval(() => {
    remover();
    tries++;
    if (tries >= 30) clearInterval(t);
  }, 500);
})();

/* ‚úÖ SEM BOT√ÉO: ao apertar "voltar" (celular ou PC) vai para a p√°gina desejada */
(function(){
  const target = "https://marcio2307.github.io/cartomantesonline.site/leituras.html";
  history.pushState({ page: "pix" }, "", location.href);
  window.addEventListener("popstate", () => {
    window.location.replace(target);
  });
})();

// üîÆ Dados do consultor vindos do localStorage
const nome = localStorage.getItem('consultorNome') || "Consultor";
const valor = parseFloat(localStorage.getItem('consultorValor')) || 1.00;
const imagem = localStorage.getItem('consultorImagem') || "https://via.placeholder.com/300";

document.getElementById('consultorNome').textContent = nome;
document.getElementById('consultorImagem').src = imagem;

// üî¢ Op√ß√µes de minutos
const opcoesDiv = document.getElementById('opcoes');
const precoSelecionado = document.getElementById('precoSelecionado');
const botaoPix = document.getElementById('pixButton');

let minutosSelecionados = null;
let precoFinal = null;

function criarOpcao(minutos, preco){
  const div = document.createElement('div');
  div.className = 'option';
  div.innerHTML = `<h2>${minutos} MINUTOS</h2><p>R$ ${preco}</p>`;
  div.onclick = () => {
    document.querySelectorAll('.option').forEach(o => o.classList.remove('selected'));
    div.classList.add('selected');
    minutosSelecionados = minutos;
    precoFinal = preco;
    precoSelecionado.textContent = `Voc√™ selecionou ${minutos} minutos ‚Äî R$ ${preco}`;
    botaoPix.disabled = false;
  };
  opcoesDiv.appendChild(div);
}

// ‚úÖ detectar Pai M√°rcio (aceita "P.M√°rcio", "Pai Marcio", etc.)
const nomeNormalizado = (nome || "")
  .toLowerCase()
  .normalize('NFD')
  .replace(/[\u0300-\u036f]/g, '');
const ehPaiMarcio = nomeNormalizado.includes('marcio');

if(ehPaiMarcio){
  // ‚úÖ Pai M√°rcio: pacotes FIXOS
  criarOpcao(10, "20.00");
  criarOpcao(20, "40.00");
  criarOpcao(30, "60.00");
} else {
  // ‚úÖ Outros consultores: mant√©m como estava, mas SEM a palavra "PACOTE"
  criarOpcao(5, "5.00");

  const minutos = [10, 20, 30, 60];
  minutos.forEach(m => {
    const preco = (m * valor).toFixed(2);
    criarOpcao(m, preco);
  });
}

// üí∞ Ao clicar em ‚ÄúPagar com Pix‚Äù
botaoPix.onclick = () => {
  if (minutosSelecionados && precoFinal) {
    const descricao = encodeURIComponent(`MINUTOS ${nome.toUpperCase()}`);
    const valorFormatado = String(precoFinal).replace('.', ',');
    const linkPix = `https://cartomantespagamento.com.br/index.php?valor=${valorFormatado}&descricao=${descricao}`;
    window.location.href = linkPix;
  }
};
</script>
</body>
</html>
